<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Render All Badges</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<div class="allBadges"></div>

<script type="text/javascript">

$(document).ready(function () {
    getAllBadges();
} );


function getAllBadges(){
    var result
    $.ajax({
        url: "https://x0cqlc5za2.execute-api.ap-southeast-2.amazonaws.com/dev/badges/",
        success: function (data) {
            console.log('getFocusBadges success');
            //randomise order?
            //data = sortPriority(data);
            renderAllBadges(data)
        },
        error: function (data) {
            console.log('getFocusBadges error');
        }
    });
}

function renderAllBadges(focusBadges){
    badgesToRender = focusBadges.length
    var html = []

    console.log(focusBadges)
    //html.push('<div class="row">')
    for (var i = 0; i < badgesToRender; i++) {
        //console.log(focusBadges[i].badgeId)

        html.push(`
            <div class="col-lg-3">
                <div class="panel panel-primary">

                    <div class="panel-heading">
                        <i class="fa fa-tag fa-1x"></i>
                        ` + focusBadges[i].badgeId.substring(0, 10) + `
                    </div>

                    <div class="panel-body">
                        <img src="../images/badges/128/` + focusBadges[i].badgeId + `.png" class="img-responsive backup_picture_256 center-block clickable_badge" onerror="imgError(this, 128);" alt=`+focusBadges[i].badgeId+`>
                    </div>
                </div>
            </div>`
        )
    }
    //html.push('</div>')
        $(".allBadges").append(html);
}


</script>