<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Render Email Signature</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<div class="allBadges"></div>

<script type="text/javascript">

$(document).ready(function () {
    getUserBadges();
} );


function getUserBadges(){
    var result
    $.ajax({
        url: "https://x0cqlc5za2.execute-api.ap-southeast-2.amazonaws.com/dev/userAssertions/"+loggedInUserId,
        success: function (data) {
            renderUserBadges(data)
        },
        error: function (data) {
            console.log('getFocusBadges error');
        }
    });
}

function renderUserBadges(userBadges){
    badgesToRender = userBadges.length
    var html = []
    var badges = []

    console.log(userBadges)
    //html.push('<div class="row">')
    for (var i = 0; i < badgesToRender; i++) {
        badges.push(`
            <img src="../images/badges/64/` + userBadges[i].badgeId + `.png" class="img-responsive backup_picture_256 center-block clickable_badge" style="display:inline-block" onerror="imgError(this, 64);" alt="`+userBadges[i].badgeId+`">
        `)
    }

    html.push(`
        <div class="col-lg-12">
            <div class="panel panel-primary">

                <div class="panel-heading">
                    <i class="fa fa-tag fa-1x"></i>
                </div>

                <div class="panel-body">
                    `+badges+`
                </div>
            </div>
        </div>`
    )
    //html.push('</div>')
        $(".allBadges").append(html);
}


</script>